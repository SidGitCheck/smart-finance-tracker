<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Student Finance Assistant</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header class="app-header">
    <div class="logo">
        <span class="logo-mark">â‚¹</span>
        <span class="logo-text">Smart Finance</span>
    </div>

    <nav class="nav-links">
        <a href="#dashboard">Dashboard</a>
        <a href="#expenses">Expenses</a>
        
        <!-- ðŸ”¥ NEW: Action Buttons -->
        <button onclick="downloadCSV()" class="nav-action-btn" title="Download Data">
            ðŸ“¥ CSV
        </button>
        <button onclick="resetApp()" class="nav-action-btn danger" title="Reset All Data">
            â†» Reset
        </button>
    </nav>
</header>

    <main class="app-main">
        <section class="hero" id="dashboard">
            <div class="hero-text">
                <h1>Track. Analyze. Predict.</h1>
                <p>
                    A smart personal finance assistant built for students.
                    Log your daily expenses, understand your spending habits,  
                    and get alerts before you overshoot your budget.
                </p>
                <div class="budget-input">
                    <label for="monthly-budget">Monthly Budget (â‚¹)</label>
                    <input type="number" id="monthly-budget" placeholder="e.g., 5000" min="0" />
                </div>
            </div>

            <div class="summary-cards">
                <div class="summary-card">
                    <span class="summary-label">Total Spent</span>
                    <span class="summary-value" id="total-spent">â‚¹0</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Remaining Budget</span>
                    <span class="summary-value" id="remaining-budget">â‚¹0</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Days Tracked</span>
                    <span class="summary-value" id="days-tracked">0</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Avg Spend / Day</span>
                    <span class="summary-value" id="avg-per-day">â‚¹0</span>
                </div>
            </div>
            
            <div id="budget-alert" class="budget-alert">
                 Set a monthly budget to start getting smart alerts on your spending.
            </div>
        </section>

        <section class="content-grid">
            <section class="panel" id="expenses">
                <div class="panel-header">
                    <h2>Recent Expenses</h2>
                    <button class="btn ghost-btn" id="add-expense-panel-btn">
                        + Add Expense
                    </button>
                </div>
                <div class="table-wrapper">
                    <table class="expenses-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Amount (â‚¹)</th>
                                <th>Category</th>
                            </tr>
                        </thead>
                        <tbody id="expenses-tbody">
                            <tr class="placeholder-row">
                                <td colspan="4">No expenses added yet.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="panel" id="insights">
                <div class="panel-header">
                    <h2>Spending Insights</h2>
                </div>
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Monthly Spending Trend</h3>
                        <canvas id="monthly-spend-chart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Category-wise Breakdown</h3>
                        <canvas id="category-chart"></canvas>
                    </div>
                </div>
                <div class="prediction-card">
                    <h3>Smart Spend Prediction</h3>
                     <p id="prediction-text">
                     Add a few days of expenses and set a monthly budget to 
                     see predicted spend and risk level.
                     </p>
                 </div>
            </section>
        </section>
        
        <section class="panel add-expense-panel" id="add-expense-section">
            <div class="panel-header">
                 <h2>Add New Expense</h2>
            </div>
            <form class="expense-form" id="expense-form">
                <div class="form-row">
                    <div class="form-field">
                        <label for="expense-date">Date</label>
                        <input type="date" id="expense-date" required />
                    </div>
                    <div class="form-field">
                        <label for="expense-amount">Amount (â‚¹)</label>
                        <input type="number" id="expense-amount" min="1" required placeholder="e.g., 120" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-field full-width">
                        <label for="expense-description">Description</label>
                        <input type="text" id="expense-description" maxlength="100" required placeholder="e.g., Lunch at canteen, cab to college" />
                        <small class="hint">Category will be auto-detected from keywords.</small>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn primary-btn">Save Expense</button>
                    <button type="reset" class="btn ghost-btn">Clear</button>
                </div>
            </form>
        </section>
    </main>

    <footer class="app-footer">
        <p>Built for students Â· Smart Student Finance Assistant Â· 2025</p>
    </footer>


<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Plugin - must come after Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

<!-- App Logic -->
<script src="app.js"></script>

</body>
</html>